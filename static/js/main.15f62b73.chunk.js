(this.webpackJsonprps_client=this.webpackJsonprps_client||[]).push([[0],{115:function(e,t){},125:function(e,t,n){"use strict";n.r(t);var a=n(1),l=n.n(a),r=n(18),c=n.n(r),o=(n(77),n(21)),i=n(7),s=n(5),u=n(33),m=n.n(u),d=n(68),f=n.n(d)()("https://rps-backend2.herokuapp.com/"),y=n(69),b=n(44),p=n(45),E=n(46),g=["#f4f4f4","#4fc1e8","#a0d568","#ffce54","#ac92eb","#ed5564"];var j=function(e){var t=Object(a.useState)(e.type),n=Object(s.a)(t,2),r=n[0];function c(){e.disabled||e.handleClick(e.x_index,e.y_index)}return n[1],l.a.createElement("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},e.is_enemy?l.a.createElement("button",{onClick:c,style:{background:"#ed5564",height:70,width:70}},l.a.createElement(E.a,{size:"3em"})):l.a.createElement("button",{onClick:c,style:{background:g[r],height:70,width:70}}," ",function(t){switch(e.is_enemy&&(t=6),t){case 0:return null;case 1:return l.a.createElement(b.b,{color:e.selected_tile?"blue":"black",size:"3em"});case 2:return l.a.createElement(p.b,{color:e.selected_tile?"blue":"black",size:"3em"});case 3:return l.a.createElement(y.a,{color:e.selected_tile?"blue":"black",size:"3em"});case 4:return l.a.createElement(b.a,{color:e.selected_tile?"blue":"black",size:"3em"});case 5:return l.a.createElement(p.a,{color:e.selected_tile?"blue":"black",size:"3em"});case 6:return l.a.createElement(E.a,{size:"3em"});default:return null}}(r),"  "),e.disabled?l.a.createElement("h5",{style:{marginTop:10}},e.number):null)};var h=function(e){var t=Object(a.useState)([[],[],[],[],[],[],[],[]]),n=Object(s.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(null),i=Object(s.a)(o,2),u=i[0],m=i[1],d=Object(a.useState)(),f=Object(s.a)(d,2);function y(t,n){return t>=r.length||n>=r[0].length||t<0||n<0?(console.log("something went wrong"),!1):r[t][n].player_id!==e.my_turn}function b(t,n){var a,l,c,o;e.player_id===e.my_turn&&(u?(console.log(t,n),r[t][n].player_id!==e.player_id&&(a=t,l=n,c=u.from_x,o=u.from_y,a+1===c&&l===o||a-1===c&&l===o||a===c&&l+1===o||a===c&&l-1===o)&&(e.makeMove(t,n,u.from_x,u.from_y),m(null))):!function(t,n){return t>r.length||n>r[0].length||t<0||n<0?(console.log("something went wrong"),!1):r[t][n].player_id!==e.my_turn?(console.log("not your player select difrent tile",r[t][n].player_id),!1):!!(y(t+1,n)||y(t-1,n)||y(t,n+1)||y(t,n-1))}(t,n)?m(null):m({from_x:t,from_y:n}))}function p(e,t){return!!u&&(u.from_x===e&&u.from_y===t)}return f[0],f[1],Object(a.useEffect)((function(){c(e.board)}),[e.board]),l.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},1===e.player_id?r.map((function(e,t){return l.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},e.map((function(e,n){return l.a.createElement(j,{is_enemy:0===e.player_id,selected_tile:p(t,n),handleClick:b,key:n,x_index:t,y_index:n,type:e.tile})})))})):r.slice(0).reverse().map((function(e,t){return l.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},e.map((function(e,n){return l.a.createElement(j,{is_enemy:1===e.player_id,selected_tile:p(7-t,n),handleClick:b,key:n,x_index:7-t,y_index:n,type:e.tile})})))})))},x=n(12),v=n(22),O=n.n(v),_=n(35),w=n.n(_),k=n(70),C=n(17);var S=function(e){var t=Object(a.useState)(),n=Object(s.a)(t,2),r=n[0],c=n[1];function o(t){c(!0),f.emit("tieBreak",{tie_response:t,room:e.room},(function(){}))}return Object(a.useEffect)((function(){f.on("tieEnd",(function(t){!0===t?c(!1):(c(!1),e.setModalShow(!1),e.setRerenderBoard(new Date+""))}))}),[]),l.a.createElement(C.a,{show:e.modalShow,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0},l.a.createElement(C.a.Header,{closeButton:!0},l.a.createElement(C.a.Title,{id:"contained-modal-title-vcenter"},"Its A tie, choose your weapon")),l.a.createElement(C.a.Body,null,r?"loading...":l.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},l.a.createElement(j,{handleClick:function(e,t){return o(1)},type:1}),l.a.createElement(j,{handleClick:function(e,t){return o(2)},type:2}),l.a.createElement(j,{handleClick:function(e,t){return o(3)},type:3}))))},R=n(16);var B=function(e){return l.a.createElement(C.a,{show:-1!==e.player_won,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0},l.a.createElement(C.a.Body,null,l.a.createElement("h1",null,"player ",e.player_won+1," won the game! ")),l.a.createElement(C.a.Footer,null,l.a.createElement(R.a,{onClick:function(){return e.setResetGame(!0)}},"Play Again")))};n(43);var D=function(e){var t=e.location,n=Object(a.useState)(""),r=Object(s.a)(n,2),c=r[0],o=r[1],u=Object(a.useState)(""),d=Object(s.a)(u,2),y=(d[0],d[1]),b=Object(a.useState)([]),p=Object(s.a)(b,2),E=p[0],g=p[1],j=Object(a.useState)(!0),v=Object(s.a)(j,2),_=v[0],C=v[1],R=Object(a.useState)(null),D=Object(s.a)(R,2),I=D[0],z=D[1],G=Object(a.useState)(null),M=Object(s.a)(G,2),T=M[0],H=M[1],A=Object(a.useState)([]),J=Object(s.a)(A,2),q=J[0],L=J[1],W=Object(a.useState)(),F=Object(s.a)(W,2),P=F[0],U=F[1],$=l.a.useState(!1),K=Object(s.a)($,2),N=K[0],Q=K[1],V=l.a.useState(-1),X=Object(s.a)(V,2),Y=X[0],Z=X[1],ee=l.a.useState(!1),te=Object(s.a)(ee,2),ne=(te[0],te[1]);return Object(a.useEffect)((function(){var e=m.a.parse(t.search),n=e.name,a=e.room;return y(n),o(a),f.on("usersInRoom",(function(e){console.log("usersinroom"),e.length<2?z("error user left"):L(e)})),f.on("tie",(function(){console.log("tie"),Q(!0)})),f.on("updateGame",(function(e){console.log("update"),e?(g(e.board),C(e.turn?0:1),U("supper-uniqe-key"+new Date)):z("error game fail")})),f.on("player_won",(function(e){console.log(e),Z(e?0:1)})),f.emit("startedGame",{room:a,name:n},(function(e,t,n){if(console.log(e,q),console.log(t),t){var a=e.find((function(e){return e.name===n}));a?(H(a.player_id),g(t.board),C(t.turn?0:1),L(e)):z("error user doesnt exists")}else z("error game not found")})),function(){f.emit("disconnect",f),f.off()}}),[]),Object(a.useEffect)((function(){f.emit("usersInRoom",(function(){}))}),[q]),l.a.createElement("div",{style:{minHeight:"100%",border:"solid",display:"flex",justifyContent:"center",alignItems:"center"}},l.a.createElement(x.a,{style:{padding:40}},l.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:20}},l.a.createElement("h1",null,"Rps online")),l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},l.a.createElement(x.a,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",padding:10,margin:10}},l.a.createElement(O.a,null),"\xa0",l.a.createElement("h5",null,q&&q.length>0?"player 1: ".concat(q[0].name):"waiting")),l.a.createElement(x.a,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",padding:10,margin:10}},l.a.createElement(O.a,null),"\xa0",l.a.createElement("h5",null,q&&q.length>1?"player 2: ".concat(q[1].name):"waiting")),l.a.createElement(x.a,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",padding:10,margin:10}},l.a.createElement(w.a,null),"\xa0",l.a.createElement("h5",null,"room: ",c))),l.a.createElement("div",{style:{flex:1,marginBottom:10,display:"flex",justifyContent:"center",alignItems:"stretch"}},l.a.createElement(x.a,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",padding:10,margin:10}},l.a.createElement(k.a,null),"\xa0",l.a.createElement("h5",null,"turn: ",q&&q[_]?q[_].name:null))),l.a.createElement(h,{key:P,my_turn:_,makeMove:function(e,t,n,a){f.emit("move",{room:c,x_index:e,y_index:t,from_x:n,from_y:a},(function(){}))},setMyTurn:C,player_id:T,board:E,setBoard:g}),I?l.a.createElement(i.a,{to:"".concat("/Rps_online","/")}):null),l.a.createElement(S,{room:c,setRerenderBoard:U,modalShow:N,setModalShow:Q}),l.a.createElement(B,{player_won:Y,setResetGame:ne}))},I=n(23);var z=function(e){var t=Object(a.useState)(e.board?e.board:[[],[],[],[],[],[],[],[]]),n=Object(s.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)([0,5,5,4,1,1]),i=Object(s.a)(o,2),u=i[0],m=i[1],d=Object(a.useState)(),f=Object(s.a)(d,2),y=f[0],b=f[1];function p(e,t){var n=function(e,t){if(e>r.length||t>r[0].length||e<6||t<0)return console.log("something went wrong"),-1;var n,a=r[e][t];for(n=(a+1)%6;n<15;n=(n+1)%6)if(u[n]>0){var l=Object(I.a)(u);return l[a]=l[a]+1,l[n]=l[n]-1,m(Object(I.a)(l)),n}return-1}(e,t);if(n>=0){var a=Object(I.a)(r);a[e][t]=n,c(Object(I.a)(a)),b("supper-uniqe-key"+new Date+n)}}return Object(a.useEffect)((function(){c(r.map((function(e,t){return[0,0,0,0,0,0,0,0]})))}),[]),Object(a.useEffect)((function(){!function(){for(var t=1;t<u.length;t++){if(u[t]>0)return void e.setBoardReady(!1)}e.setBoard(Object(I.a)(r)),e.setBoardReady(!0)}()}),[r]),l.a.createElement("div",{key:y,style:{display:"flex",flexDirection:"column"}},r.map((function(e,t){return l.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},e.map((function(e,n){return l.a.createElement(j,{handleClick:p,key:n,x_index:t,y_index:n,ready_stage:!0,available_tiles:u,setAvailableTiles:m,type:e})})))})),l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:40}},u.map((function(e,t){return 0===t?null:l.a.createElement(j,{disabled:!0,number:e,type:t})}))))},G=n(51),M=n.n(G),T=n(50),H=n.n(T);var A=function(e){var t=e.location,n=Object(a.useState)(""),r=Object(s.a)(n,2),c=r[0],o=r[1],u=Object(a.useState)(""),d=Object(s.a)(u,2),y=d[0],b=d[1],p=Object(a.useState)(!1),E=Object(s.a)(p,2),g=E[0],j=E[1],h=Object(a.useState)(!1),v=Object(s.a)(h,2),_=v[0],k=v[1],C=Object(a.useState)([]),S=Object(s.a)(C,2),B=S[0],D=S[1],I=Object(a.useState)(),G=Object(s.a)(I,2),T=G[0],A=G[1],J=Object(a.useState)([]),q=Object(s.a)(J,2),L=q[0],W=q[1];function F(){f.emit("playerReady",{room:y,board:L},(function(e){console.log(L),j(e)}))}return Object(a.useEffect)((function(){var e=m.a.parse(t.search),n=e.name,a=e.room;return o(n),b(a),f.on("usersInRoom",(function(e){console.log("usersinroom"),D(e)})),f.on("allUsersReady",(function(){k(!0)})),f.emit("join",{name:n,room:a},(function(e){e.users,e.error})),function(){_||(f.emit("disconnect",f),f.off())}}),[]),l.a.createElement("div",{style:{minHeight:"100%",border:"solid",display:"flex",justifyContent:"center",alignItems:"center"}},l.a.createElement(x.a,{style:{padding:40}},l.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:20}},l.a.createElement("h1",null,"Rps online")),l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},l.a.createElement(x.a,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",padding:10,margin:10}},l.a.createElement(O.a,null),"\xa0",l.a.createElement("h5",null,B&&B.length>0?"player 1: ".concat(B[0].name):"waiting"),B&&B[0]&&B[0].is_ready?l.a.createElement(H.a,null):l.a.createElement(M.a,null)),l.a.createElement(x.a,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",padding:10,margin:10}},l.a.createElement(O.a,null),"\xa0",l.a.createElement("h5",null,B&&B.length>1?"player 2: ".concat(B[1].name):"waiting"),B&&B[1]&&B[1].is_ready?l.a.createElement(H.a,null):l.a.createElement(M.a,null)),l.a.createElement(x.a,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",padding:10,margin:10}},l.a.createElement(w.a,null),"\xa0",l.a.createElement("h5",null,"room: ",y))),l.a.createElement("div",{style:{flex:1,marginBottom:10,display:"flex",justifyContent:"center",alignItems:"stretch"}},T?g?l.a.createElement(R.a,{onClick:F},"not ready"):l.a.createElement(R.a,{onClick:F},"ready"):l.a.createElement(R.a,{variant:"secondary",disabled:!0},"ready")),l.a.createElement(z,{setBoardReady:A,setBoard:W}),_?l.a.createElement(i.a,{to:c&&y?"".concat("/Rps_online","/Game?name=").concat(c,"&room=").concat(y):"".concat("/Rps_online","/")}):null))};var J=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),i=Object(s.a)(c,2),u=i[0],m=i[1];return l.a.createElement("div",{style:{minHeight:"100%",border:"solid",display:"flex",justifyContent:"center",alignItems:"center"}},l.a.createElement(x.a,{style:{padding:100}},l.a.createElement("div",{style:{marginBottom:80}},l.a.createElement("h1",null," Rps online")),l.a.createElement("div",{style:{marginBottom:80}},l.a.createElement("div",{style:{marginBottom:20}},l.a.createElement("input",{placeholder:"name",type:"text",onChange:function(e){return r(e.target.value)}})),l.a.createElement("div",{style:{marginBottom:20}},l.a.createElement("input",{placeholder:"room",type:"text",onChange:function(e){return m(e.target.value)}}))),l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement(o.b,{onClick:function(e){return n&&u?null:e.preventDefault()},to:n&&u?"".concat("/Rps_online","/Lobby?name=").concat(n,"&room=").concat(u):"".concat("/Rps_online","/")},l.a.createElement(R.a,{variant:"primary"}," Join Room ")))))};var q=function(){return l.a.createElement(o.a,null,l.a.createElement(i.b,{path:"".concat("/Rps_online","/"),exact:!0,component:J}),l.a.createElement(i.b,{path:"".concat("/Rps_online","/Lobby"),exact:!0,component:A}),l.a.createElement(i.b,{path:"".concat("/Rps_online","/Game"),exact:!0,component:D}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},72:function(e,t,n){e.exports=n(125)},77:function(e,t,n){}},[[72,1,2]]]);
//# sourceMappingURL=main.15f62b73.chunk.js.map